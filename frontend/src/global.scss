@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');

/* Rendu identique sur APK / WebView : pleine hauteur + safe area */
html, body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  -webkit-text-size-adjust: 100%;
  overflow: hidden;
}
body {
  font-family: var(--ion-font-family);
  font-size: 16px; /* évite le zoom auto sur champs dans la WebView Android */
  background: #1e1b4b; /* fond de secours si ion-content met du temps à peindre */
}
ion-app {
  height: 100%;
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}
ion-content {
  --padding-top: env(safe-area-inset-top);
  --padding-bottom: env(safe-area-inset-bottom);
  --padding-start: env(safe-area-inset-left);
  --padding-end: env(safe-area-inset-right);
  --background: transparent; /* les pages définissent leur fond (ex: gradient login) */
}

/* Évite le zoom au focus sur Android */
input, select, textarea {
  font-size: 16px !important;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@import "@ionic/angular/css/core.css";
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* Animations dynamiques */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-fade-in-up { animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
.animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
.animate-scale-in { animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.animate-slide-in { animation: slideInRight 0.5s ease-out forwards; }
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }

.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }
.stagger-6 { animation-delay: 0.3s; }

/* Cards interactives */
.interactive-card {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
}
.interactive-card:active {
  transform: scale(0.98);
}

/* Gradient text */
.gradient-text {
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Ionic overrides - visibles aussi sur APK / WebView Android */
ion-input, ion-textarea {
  --padding-start: 16px;
  --padding-end: 16px;
  --padding-top: 12px;
  --padding-bottom: 12px;
  --background: #f1f5f9;
  --color: #1e293b;
  --placeholder-color: #64748b;
  --placeholder-opacity: 1;
  min-height: 48px !important;
  --min-height: 48px;
  opacity: 1 !important;
  border-radius: 14px;
  transition: all 0.3s ease;
  display: block !important;
}

/* Force la hauteur des lignes de formulaire (login, register) sur WebView */
ion-item.input-item,
.input-item {
  --background: #f8fafc;
  --min-height: 52px;
  min-height: 52px !important;
  --padding-start: 16px;
  --inner-padding-end: 16px;
  border-radius: 14px;
  opacity: 1 !important;
}

ion-item { --border-radius: 14px; --inner-padding-end: 0; --padding-start: 0; }

ion-button {
  --border-radius: 14px;
  font-weight: 600;
  text-transform: none;
  transition: transform 0.2s, box-shadow 0.2s;
  min-height: 48px !important;
  opacity: 1 !important;
}
ion-button:active { transform: scale(0.97); }

/* FAB et boutons flottants visibles sur APK */
ion-fab {
  z-index: 999;
  opacity: 1 !important;
}
ion-fab-button {
  --background: linear-gradient(135deg, #4f46e5, #7c3aed);
  --box-shadow: 0 4px 20px rgba(79, 70, 229, 0.4);
  opacity: 1 !important;
  min-width: 56px;
  min-height: 56px;
}
ion-fab-button ion-icon {
  font-size: 28px;
  color: white;
}

ion-tab-bar {
  --background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  box-shadow: 0 -4px 24px rgba(6, 182, 212, 0.1);
}
ion-tab-button { --color: #64748b; --color-selected: #06b6d4; }

/* Dark mode */
body.dark {
  --ion-background-color: #0f172a;
  --ion-text-color: #f1f5f9;
}
body.dark ion-toolbar { --background: #1e293b; --color: #f1f5f9; }
body.dark ion-tab-bar { --background: rgba(30, 41, 59, 0.95); }
